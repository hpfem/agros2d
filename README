Welcome to Agros2D!

This manual is intended for Debian-based systems (for other systems it is very similar).

Requirements
============

First install the following free packages:
- Hermes2D (http://www.hpfem.org/hermes2d)
- Nokia Qt 4.5 (http://www.qtsoftware.com/products)
- Qwt 5.0 (http://qwt.sourceforge.net)
- Triangle (http://www.cs.cmu.edu/~quake/triangle.html)
- FFmpeg (http://ffmpeg.org)

Install the following packages:

$ sudo apt-get install libqt4-dev qt4-dev-tools python-dev libjudy-dev libsuitesparse-dev libqwt5-qt4-dev libssl-dev cython triangle-bin ffmpeg

Hermes2D is not available in debian repositories yet and so you have to compile it from source. You can also do this through dpkg-buildpackage.

To compile Agros2D, you need qmake and g++:

$ sudo apt-get install qmake g++

Documentation
=============

Agros2D manual is available at runtime by pressing F1 and through the main menu. Help can be builded and generated. For build you need Sphinx (http://sphinx.pocoo.org/). Help can be builded and generated by running

$ sphinx-build -b qthelp ./doc/source ./doc/help
$ qcollectiongenerator ./doc/help/Agros2D.qhcp -o ./doc/help/Agros2D.qhc

or by using the following script:

$ ./agros2d.sh help

Localization
============

Agros2D is available in English and Czech. Localization files can be genarated as follows:

$ lrelease ./lang/*.ts

or using the script

$ ./agros2d.sh lang

Compilation
===========

The application can by compiled by running

$ qmake agros2d.pro
$ make

or using the script

$ ./agros2d.debian.sh comp

The binary package can be build as follows:

$ dpkg-buildpackage -sgpg -rfakeroot

or using the script

$ ./agros2d.sh pack

Hints
=====

To simplify the above steps (build and generate documentation, generate localization files and compilation) run:

$ ./agros2d.debian.sh all

If you install Hermes2D in a different prefix than /usr, set the includepath and libpath by editing agros2d.pro, for example by applying a similar patch to this:

INCLUDEPATH += src \
unix:INCLUDEPATH += /usr/include
unix:INCLUDEPATH += /usr/include/suitesparse
unix:INCLUDEPATH += /usr/include/qwt-qt4
unix:INCLUDEPATH += /usr/include/hermes2d
unix:INCLUDEPATH += ~/usr/include/hermes2d
win32:INCLUDEPATH += c:/qt/mingw/include
win32:INCLUDEPATH += c:/qt/mingw/include/hermes2d
LIBS += -lhermes2d-real \
LIBS += -lhermes2d-real \
unix:LIBS += -lqwt-qt4
unix:LIBPATH += ~/usr/lib/
win32:LIBS += -lqwt

or by passing the paths directly on the commandline, like this:

$ qmake-qt4 "INCLUDEPATH += $HOME/usr/include/hermes2d" "LIBPATH += $HOME/usr/lib/" agros2d.pro

To install Agros2D into different location than /usr/local/bin, use:

$ qmake PREFIX=$HOME/usr

This will install it into the /usr directory in your home directory.
