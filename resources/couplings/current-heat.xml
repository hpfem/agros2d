<?xml version="1.0"?>
<coupling:coupling xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="XMLCoupling ../xsd/coupling_xml.xsd"
	xmlns:coupling="XMLCoupling">

	<coupling:general id="current-heat" name="Joule losses">
		<coupling:description>Heat generated by Joule losses in current field
		</coupling:description>
		<coupling:modules>
			<coupling:source id="current" />
			<coupling:target id="heat" />
		</coupling:modules>
	</coupling:general>

	<coupling:constants />

	<coupling:volume>
		<coupling:weakforms_volume>
                <coupling:weakform_volume couplingtype="weak"
                        sourceanalysis="steadystate" targetanalysis="steadystate">
                        <coupling:vector_form id="coupling" i="1" j="1"
                                planar_linear="cu_gamma * (source1dx * source1dx + source1dy * source1dy) * vval"
                                axi_linear="cu_gamma * (source1dr * source1dr + source1dz * source1dz) * r * vval"
                                planar_newton="- cu_gamma * (source1dx * source1dx + source1dy * source1dy) * vval"
                                axi_newton="- cu_gamma * (source1dr * source1dr + source1dz * source1dz) * r * vval"/>
                </coupling:weakform_volume>

                <coupling:weakform_volume couplingtype="hard"
                        sourceanalysis="steadystate" targetanalysis="steadystate">
                        <coupling:matrix_form id="coupling" i="2" j="1"
                                planar_linear="0"
                                                                axi_linear="0"
                                planar_newton="- cu_gamma * 2 * (updx * udx + updy * udy) * vval"
                                                                axi_newton="- cu_gamma * 2 * (updr * udr + updz * udz) * r * vval" />
                        <coupling:vector_form id="coupling" i="2" j="1"
                                planar_linear="0"
                                                                axi_linear="0"
                                planar_newton="- cu_gamma * (updx * updx + updy * updy) * vval" 
								axi_newton="- cu_gamma * (updr * updr + updz * updz) * r * vval" />
                </coupling:weakform_volume>


                <coupling:weakform_volume couplingtype="weak"
                        sourceanalysis="steadystate" targetanalysis="transient">
                        <coupling:vector_form id="coupling" i="1" j="1"
                                planar_linear="cu_gamma * (source1dx * source1dx + source1dy * source1dy) * vval"
                                axi_linear="cu_gamma * (source1dr * source1dr + source1dz * source1dz) * r * vval"
                                planar_newton="- cu_gamma * (source1dx * source1dx + source1dy * source1dy) * vval"
                                axi_newton="- cu_gamma * (source1dr * source1dr + source1dz * source1dz) * r * vval" />
                </coupling:weakform_volume>

                <coupling:weakform_volume couplingtype="hard"
                        sourceanalysis="steadystate" targetanalysis="transient">
                        <coupling:matrix_form id="coupling" i="2" j="1"
                                planar_linear="0"
                                                        axi_linear="0"
                                planar_newton="- cu_gamma * 2 * (updx * udx + updy * udy) * vval"
                                                        axi_newton="- cu_gamma * 2 * (updr * udr + updz * udz) * r * vval" />
                        <coupling:vector_form id="coupling" i="2" j="1"
                                planar_linear="0"
                                                        axi_linear="0"
                                planar_newton="- cu_gamma * (updx * updx + updy * updy) * vval"
                                                        axi_newton="- cu_gamma * (updr * updr + updz * updz) * r * vval" />
                </coupling:weakform_volume>
                </coupling:weakforms_volume>
	</coupling:volume>
</coupling:coupling>
